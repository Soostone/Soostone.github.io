<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="manifest" href="/manifest.json" /> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/main.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/touch-icon/logo-76.png" /> <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/touch-icon/logo-120.png" /> <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/touch-icon/logo-152.png" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/touch-icon/logo-180.png" /> <meta name="msapplication-square70x70logo" content="/assets/images/touch-icon/logo-70.png" /> <meta name="msapplication-square150x150logo" content="/assets/images/touch-icon/logo-150.png" /> <meta name="msapplication-square310x310logo" content="/assets/images/touch-icon/logo-310.png" /> <!-- keywords not used by google but other search engines might still use --> <meta name="keywords" content="Napkin, BigQuery, Postgres, SQL, BigData, Data Scientist, Data Engineer, Analytics" /> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Changelog | docs</title> <meta name="generator" content="Jekyll v4.2.1" /> <meta property="og:title" content="Changelog" /> <meta name="author" content="Alex Shestakov" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Changelog of all publicly available Napkin versions." /> <meta property="og:description" content="Changelog of all publicly available Napkin versions." /> <link rel="canonical" href="https://soostone.github.io/changelog/" /> <meta property="og:url" content="https://soostone.github.io/changelog/" /> <meta property="og:site_name" content="docs" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Changelog" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Alex Shestakov"},"url":"https://soostone.github.io/changelog/","@type":"WebPage","description":"Changelog of all publicly available Napkin versions.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://soostone.github.io/assets/images/logo-and-name.svg"},"name":"Alex Shestakov"},"headline":"Changelog","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewbox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="site-super-header"> <div class="ssh-container"> <div class="super-nav-box"> <div class="site-logo"></div> <div class="site-nav"> <a class="link-button active" href="/">Documentation</a> <a class="link-button" href="#">Community</a> <a class="link-button" href="#">Features</a> <a class="link-button" href="#">Use Cases</a> <span class="gradient-border"> <a class="link-button " href="/install">Install</a> </span> </div> </div> <div class="menu__button" style="-webkit-user-select: text;" aria-label="menu" role="button" tabindex="0" aria-controls="w-nav-overlay-0" aria-haspopup="menu" aria-expanded="false"> <div class="menu__button-block"> <div class="menu__button-line top"></div> <div class="menu__button-line mid"></div> <div class="menu__button-line bot"></div> </div> </div> </div> </div> <div class="side-bar" style="display: none;"> <div class="site-header"> <a href="https://soostone.github.io/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewbox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"> <li class="nav-list-item" style="display: none;"> <a class="nav-list-link" href="https://napkinweb.webflow.io/" target="_blank" rel="noopener noreferrer"> Napkin product </a> </li>
<li class="nav-list-item">
<a href="https://soostone.github.io/" class="nav-list-link"> About </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/getting-started/" class="nav-list-link"> Getting started </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/install/" class="nav-list-link"> Installation </a> <ul>
<li> <a href="/install/#native" class="nav-list-link"> Native </a> </li>
<li> <a href="/install/#homebrew" class="nav-list-link"> Homebrew </a> </li>
<li> <a href="/install/#docker" class="nav-list-link"> Docker </a> </li>
<li> <a href="/install/#cachix" class="nav-list-link"> Cachix </a> </li>
</ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/fundamentals/" class="nav-list-link"> Fundamentals </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/tutorial/" class="nav-list-link"> Tutorial </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/tips-and-tricks/" class="nav-list-link"> Tips and Tricks </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/docker/" class="nav-list-link"> Docker </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"> <svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="https://soostone.github.io/user-manual/" class="nav-list-link"> User Manual </a> <ul></ul>
<ul class="nav-list ">
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/yaml-reference" class="nav-list-link">Spec YAML reference</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/db-connection" class="nav-list-link">Connecting to the database</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/multi-environment" class="nav-list-link">Multi-environment pipelines in a team setting</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/devcontainer" class="nav-list-link">Devcontainer</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/preprocessors" class="nav-list-link">Preprocessors</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/github-actions" class="nav-list-link">Running as a scheduled job on GitHub Actions</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/changelog/" class="nav-list-link"> Changelog </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/haddock/" class="nav-list-link"> API Reference </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/ide" class="nav-list-link"> IDE Support </a> <ul></ul>
</li>
</ul> </nav> </div> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search docs" aria-label="Search docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main" id="top"> <div class="btn-sort-cats">Sort Categories <span><img src="/assets/images/down-arrow.svg" alt=""></span>
</div> <div class="side-bar"> <ul class="nav-list"> <li class="nav-list-item" style="display: none;"> <a class="nav-list-link" href="https://napkinweb.webflow.io/" target="_blank" rel="noopener noreferrer"> Napkin product </a> </li>
<li class="nav-list-item">
<a href="https://soostone.github.io/" class="nav-list-link"> About </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/getting-started/" class="nav-list-link"> Getting started </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/install/" class="nav-list-link"> Installation </a> <ul>
<li> <a href="/install/#native" class="nav-list-link"> Native </a> </li>
<li> <a href="/install/#homebrew" class="nav-list-link"> Homebrew </a> </li>
<li> <a href="/install/#docker" class="nav-list-link"> Docker </a> </li>
<li> <a href="/install/#cachix" class="nav-list-link"> Cachix </a> </li>
</ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/fundamentals/" class="nav-list-link"> Fundamentals </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/tutorial/" class="nav-list-link"> Tutorial </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/tips-and-tricks/" class="nav-list-link"> Tips and Tricks </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/docker/" class="nav-list-link"> Docker </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"> <svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="https://soostone.github.io/user-manual/" class="nav-list-link"> User Manual </a> <ul></ul>
<ul class="nav-list ">
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/yaml-reference" class="nav-list-link">Spec YAML reference</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/db-connection" class="nav-list-link">Connecting to the database</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/multi-environment" class="nav-list-link">Multi-environment pipelines in a team setting</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/devcontainer" class="nav-list-link">Devcontainer</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/preprocessors" class="nav-list-link">Preprocessors</a></li>
<li class="nav-list-item "><a href="https://soostone.github.io/user-manual/github-actions" class="nav-list-link">Running as a scheduled job on GitHub Actions</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/changelog/" class="nav-list-link"> Changelog </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/haddock/" class="nav-list-link"> API Reference </a> <ul></ul>
</li>
<li class="nav-list-item">
<a href="https://soostone.github.io/ide" class="nav-list-link"> IDE Support </a> <ul></ul>
</li>
</ul> </div> <div class="main-content-lspander"></div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="changelog"> <a href="#changelog" class="anchor-heading" aria-labelledby="changelog"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Changelog </h1> <p><a name="0.5.11"></a></p> <h2 id="0511-currently-in-development"> <a href="#0511-currently-in-development" class="anchor-heading" aria-labelledby="0511-currently-in-development"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.5.11 (currently in development) </h2> <ul> <li>CLI commands are combined into groups for visual clarity.</li> </ul> <p><a name="0.5.10"></a></p> <h2 id="0510-released-2021-12-29"> <a href="#0510-released-2021-12-29" class="anchor-heading" aria-labelledby="0510-released-2021-12-29"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.5.10 (released 2021-12-29) </h2> <ul> <li>
<code class="language-plaintext highlighter-rouge">&lt;nixpkgs&gt;</code> path in docker now points to the github commit instead of intermediate file.</li> <li>Is is now possible to specify timeout for google BigQuery in the backend_options.</li> <li>Napkin will report an error when sql file used with <code class="language-plaintext highlighter-rouge">incremental_by_time</code> strategy does not consume <code class="language-plaintext highlighter-rouge">cutoff</code> variable.</li> <li>Fix: SQLite remove extra parents from <code class="language-plaintext highlighter-rouge">SQL INSERT INTO SELECT Statement</code>.</li> <li>Change PostgreSQL parser dialect from ANSI to Postgres.</li> <li>Fix: Napkin was using incorrect pipeline name for backends (was always “rs”).</li> <li>Fix: Change CAST operator rendering to be ANSI complainant.</li> <li>Docker image now uses <code class="language-plaintext highlighter-rouge">napkin</code> user by default, it has nicer bash and zsh prompts. <ul> <li>Docker image working directory changed from <code class="language-plaintext highlighter-rouge">/project</code> to <code class="language-plaintext highlighter-rouge">/home/napkin/project</code>.</li> <li>Dev-container settings (produced by <code class="language-plaintext highlighter-rouge">napkin init</code>) now specify zsh as a default shell.</li> </ul> </li> <li>CI builds is DAG now (overall pipeline time reduced).</li> <li>Meta arguments handling in programs is more consistent: <ul> <li>
<code class="language-plaintext highlighter-rouge">Reader MetaArguments</code> is now <code class="language-plaintext highlighter-rouge">Input MetaArguments</code> in <code class="language-plaintext highlighter-rouge">SpecProgram</code> and <code class="language-plaintext highlighter-rouge">HookProgram</code>.</li> <li>
<code class="language-plaintext highlighter-rouge">Input SpecMetaArgs</code> is now <code class="language-plaintext highlighter-rouge">Input MetaArguments</code> in <code class="language-plaintext highlighter-rouge">SpecPreprocessor</code>.</li> <li>
<code class="language-plaintext highlighter-rouge">Input MetaArguments</code> helpers are now located in <code class="language-plaintext highlighter-rouge">Napkin.Run.Effects.MetaArguments</code>.</li> </ul> </li> <li>
<code class="language-plaintext highlighter-rouge">incrementalByTime</code> now accepts <code class="language-plaintext highlighter-rouge">incremental_reset</code> as string or bool (<code class="language-plaintext highlighter-rouge">--arg incremental_reset=true</code> will work again).</li> <li>
<code class="language-plaintext highlighter-rouge">napkin auth</code> uses now subcommands to show (<code class="language-plaintext highlighter-rouge">napkin auth show</code>) and reset (<code class="language-plaintext highlighter-rouge">napkin auth reset</code>).</li> <li>
<code class="language-plaintext highlighter-rouge">napkin auth show</code> displays output in human-friendly format.</li> <li>Fix: <code class="language-plaintext highlighter-rouge">namespaceAllTables</code> will no longer rename CTEs and break queries.</li> <li>Fix: renaming tables will no longer affect aliases.</li> <li>Fix: table aliases were not rendered correctly in JOIN queries (Postgres, Redshift).</li> <li>Extensions to <code class="language-plaintext highlighter-rouge">table_namespace</code> and <code class="language-plaintext highlighter-rouge">table_prefix</code> preprocessors: <ul> <li>added <code class="language-plaintext highlighter-rouge">scope</code> parameter that can be either <code class="language-plaintext highlighter-rouge">all</code>, <code class="language-plaintext highlighter-rouge">managed</code> (default) or <code class="language-plaintext highlighter-rouge">unmanaged</code> to control which tables are renamed,</li> <li>added <code class="language-plaintext highlighter-rouge">only</code> and <code class="language-plaintext highlighter-rouge">except</code> parameters for fine-grained control on which tables are renamed,</li> <li>
<code class="language-plaintext highlighter-rouge">table_namespace</code> has extra <code class="language-plaintext highlighter-rouge">on_existing</code> parameter that can be <code class="language-plaintext highlighter-rouge">overwrite</code> (default) or <code class="language-plaintext highlighter-rouge">keep_original</code>, which allows to keep original namespace if it has been explicitly provided in the spec.</li> </ul> </li> <li>Fix: tables now can be moved between schemas (Postgres, Redshift).</li> <li>Fix: checkTableExists does not assume that default schema is <code class="language-plaintext highlighter-rouge">public</code> (Postgres, Redshift).</li> </ul> <p><a name="0.5.9"></a></p> <h2 id="059-released-2021-12-14"> <a href="#059-released-2021-12-14" class="anchor-heading" aria-labelledby="059-released-2021-12-14"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.5.9 (released 2021-12-14) </h2> <ul> <li>Napkin now support different log formats though <code class="language-plaintext highlighter-rouge">--log-format</code> CLI option.</li> <li>Added Napkin static binary (does not fully support haskell interpretation) for easier installation.</li> <li>Renamed live validation option from ‘-l’ (–live) to ‘-i’ (–interactive) to avoid collision with –log-level.</li> <li>Fix: Interactive validation now doesn’t complain on absent folders.</li> <li>Added S3 bucket monitoring page.</li> <li>Consistent log-level setting via command line options: one can use either <code class="language-plaintext highlighter-rouge">-v</code> or <code class="language-plaintext highlighter-rouge">--log-level</code> (<code class="language-plaintext highlighter-rouge">-l</code>). Options can be applied to all commands now.</li> <li>Error reporting is more consistent.</li> <li>Improved CLI UI (<code class="language-plaintext highlighter-rouge">napkin run -p</code>) look and feel.</li> <li>Fix: CLI UI did not display query statistics properly when spec execution has been terminated by the user.</li> <li>Fix: CLI UI did not terminate spec execution.</li> <li>Napkin will print the information on execution plan (managed tables to be updated, unmanaged tables used as an input, managed tables used as an input, but not scheduled for updated) as well as ETA.</li> <li>Skipped tables will no longer block dependent tables execution.</li> <li>Fix: Haskell spec has now access to meta arguments.</li> <li>Number of concurrent DB operations can be set with <code class="language-plaintext highlighter-rouge">backend_options</code> in YAML specs. Use <code class="language-plaintext highlighter-rouge">concurrent_queries</code> for Big Query or <code class="language-plaintext highlighter-rouge">connection_pool</code> for Postgres and Redshift. The setting defaults to 100.</li> <li>
<a href="https://gitlab.com/soostone/shared/napkin/-/merge_requests/253" target="_blank" rel="noopener noreferrer">#253</a> Support SQLite Builtin functions.</li> </ul> <p><a name="0.5.8"></a></p> <h2 id="058-released-2021-12-08"> <a href="#058-released-2021-12-08" class="anchor-heading" aria-labelledby="058-released-2021-12-08"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.5.8 (released 2021-12-08) </h2> <ul> <li>Improved <code class="language-plaintext highlighter-rouge">napkin init</code>.</li> <li>Docker tags are now consistent.</li> <li>
<code class="language-plaintext highlighter-rouge">create_action</code> syntax has changed and it is now consistent for built-in and custom programs. <ul> <li>added <code class="language-plaintext highlighter-rouge">sql_query</code> and <code class="language-plaintext highlighter-rouge">long_to_wide</code> built-in spec programs.</li> <li>incremental combinators are now built-in programs.</li> <li>
<code class="language-plaintext highlighter-rouge">update_strategy</code> now explicitly defaults to always, empty list will not fall back to always.</li> <li>it’s possible to call custom programs from yaml without arguments bu providing string (symbol name) instead of object.</li> <li>
<code class="language-plaintext highlighter-rouge">deps</code> and <code class="language-plaintext highlighter-rouge">hidden_deps</code> are now attribute of table (was part of <code class="language-plaintext highlighter-rouge">create_action</code> previously).</li> </ul> </li> </ul> </div> </div> <div class="main-content-rspander"></div> <div class="search-overlay"></div> </div> <footer class="site-footer"> <div class="site-footer-rows"> <div class="site-footer-r1"> <div class="white-napkin"></div> <div class="sf-box"> <div class="sfb-nav"> <div class="link-table"> <a href="#" class="">Documentation</a> <a href="#" class="">Community</a> <a href="#" class="">Features</a> </div> <div class="link-table"> <a href="#" class="">Use Cases</a> <a href="#" class="">About Napkin</a> <a href="#" class="">Contact</a> </div> </div> <div class="gradient-border"> <a href="#" class="link-button">Get Napkin</a> </div> </div> </div> <div class="media-bar"> <span class="media-pad"> <a href="#" class="logo fb-logo"></a> </span> <span class="media-pad"> <a href="#" class="logo twitter-logo"></a> </span> <span class="media-pad"> <a href="#" class="logo linked-in-logo"></a> </span> </div> <div class="site-footer-copy-right"> <div class="copyright"> Copyright 2022 ©    |    <a href="#">Privacy Policy</a> </div> <div class="made-with"> Made with <span class="heart-inline"> </span> in NYC </div> </div> </div> </footer> <div class="sortcat-shadow"> </div> <script type="text/javascript" src="/assets/js/copy.js"></script> <script type="text/javascript" src="/assets/js/highlight-active-link.js"></script> </body> </html>
